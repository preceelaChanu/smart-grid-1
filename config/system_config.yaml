# Smart Grid System Configuration
# This file contains all configurable parameters for the smart grid system

# CKKS Encryption Parameters
ckks:
  poly_modulus_degree: 8192  # Must be power of 2 (4096, 8192, 16384, etc.)
  coeff_modulus: 40          # Bit length for coefficient modulus
  scale: 40                  # Scaling factor for CKKS (in bits)
  scheme: "CKKS"             # Encryption scheme type

# Smart Meter Configuration
smart_meters:
  num_meters: 10             # Number of smart meters in the grid
  reading_interval_sec: 5    # Interval between readings (seconds)
  max_power_reading: 10000   # Maximum power reading (watts)
  noise_level: 0.1           # Noise to add to readings (percentage)
  batch_size: 5              # Number of readings to batch together

# Analytics Server Configuration
analytics_server:
  host: "127.0.0.1"
  port: 5000
  max_connections: 20        # Maximum concurrent meter connections
  buffer_size: 1024          # Buffer size for receiving data
  enable_persistence: true   # Store results to database
  db_path: "./data/analytics.db"

# Data Intervals for Performance Testing
performance_intervals:
  short_interval: 1          # 1 second interval
  medium_interval: 30        # 30 second interval
  long_interval: 300         # 5 minute interval

# Logger/Performance Metrics Configuration
logger:
  log_level: "INFO"          # DEBUG, INFO, WARNING, ERROR
  log_file: "./logs/system.log"
  performance_log: "./logs/performance.log"
  metrics_log: "./logs/metrics.json"
  enable_console_output: true
  
  # Metrics to track
  track_encryption_time: true
  track_communication_time: true
  track_computation_time: true
  track_memory_usage: true
  
  # Performance threshold alerts
  encryption_time_threshold_ms: 500    # Alert if encryption takes > 500ms
  computation_time_threshold_ms: 1000  # Alert if computation takes > 1000ms

# HE Operations Configuration
he_operations:
  operations:
    - "sum"              # Sum all power readings
    - "mean"             # Calculate average power
    - "max"              # Find maximum power consumption
    - "min"              # Find minimum power consumption
    - "variance"         # Calculate variance in power usage
  max_depth: 3           # Maximum depth of homomorphic operations
  rescale_strategy: "aggressive"  # aggressive, conservative, adaptive

# Simulation Configuration
simulation:
  test_duration_sec: 300     # Total simulation duration (5 minutes)
  warmup_duration_sec: 10    # Warmup period before logging
  num_iterations: 3          # Number of test iterations
  save_results: true         # Save test results
  results_dir: "./results"

# Network Simulation
network:
  simulate_latency: true
  latency_min_ms: 10
  latency_max_ms: 100
  simulate_packet_loss: false
  packet_loss_rate: 0.01     # 1% packet loss
